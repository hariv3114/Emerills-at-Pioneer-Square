<!doctype html>

<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="emerills">
<head>
	<!-- META -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"><!-- Optimize mobile viewport -->
    <link href="../images/chef_fav.ico" rel="shortcut icon" type="image/x-icon" />
	<title>Emerill's</title>

	<!-- jQuery library fro bootstrap-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

	<!-- SCROLLS -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><!-- load bootstrap -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
	<!-- Style Sheet for the carousel -->
	<link rel="stylesheet" href="../css/style.css">
	<style>
		html 					{ overflow-y:scroll; }
		body					{ padding-bottom:100px;}
		#food-item-list 				{ margin-bottom:30px; }
		#food-item-form 	 			{ margin-bottom:50px; }
	</style>

	<!-- SPELLS -->
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.js"></script><!-- load angular -->

	<script src="js/controllers/main.js"></script> <!-- load up our controller -->
	<script src="js/services/foods.js"></script> <!-- load our food service -->
	<script src="js/core.js"></script> <!-- load our main application -->

</head>
<!-- SET THE CONTROLLER -->
<body ng-controller="mainController">

	<div class="container">
        <nav class="navbar navbar-default navbar-fixed-top">
	  <div class="container-fluid">
	      <h1><div class="navbar-header col-md-8">
	    <h1><b>EMERILL's at Pioneer Square</b></h1>
	    </div></h1>
	  </div>
	</nav>
		<!-- Background Slider for theme -->
		<div id="myCarousel" class="carousel container slide">
			<div class="carousel-inner">
			        <div class="active item one"></div>
			        <div class="item two"></div>
			        <div class="item three"></div>
							<div class="item four"></div>
							<div class="item five"></div>
							<div class="item six"></div>
							<div class="item seven"></div>
							<div class="item eight"></div>

			</div>
		</div>

		<div class="container">
			<span><br></br></span>
		</div>
    
<!--    Container for the food items and their functions-->
    <div class="container-fluid form-position">
        <div class="container col-md-10 foodformbg">
        		<!-- HEADER AND FOOD ITEMS COUNT -->
		<div class="jumbotron text-center">
			<!-- <h1><b>  EMERIL's at PIONEER SQUARE </b> </h1><br></br> -->
			<a href="#page2"><h1><b> Items in order </b><span></span>  <span class="label label-danger">{{ foods.length }}</span> </h1></a>
		</div>


		<div class="container">
			<span><br></br></span>
		</div>

		<!-- Food Items LIST -->
        <div >
            <div id="food-list" class="row well">
			<div class="table_scroll">
				<!-- LOOP OVER THE FOOD ITEMS IN $scope.foods -->
				<div class="table_scroll table-responsive">
					<table class="table table-striped table-hover text-center col-md-8">
						 <!-- table headers -->
						<thead>
							<th class="text-center"> FOOD ITEM </th>
							<th class="text-center"> Quantity </th>
                            <th class="text-center"> PRICE OF ITEM </th>
							<th class="text-center"> Remove Item </th>
						</thead>

						 <!-- Food data -->
						 <tbody>
					  <tr ng-repeat="food in foods">
					    <td class="text-left"><h4><b>{{ food.name}}</b></h4></td>
                        <td class="text-center"><h5> {{food.qty}}</h5> </td>
					    <td class="text-center"><h5><b>$ {{ food.price }}</b></h5></td>                        
				        <td class="text-center"> <span class="glyphicon glyphicon-trash" aria-hidden="true" ng-click="deleteFoodItem(food._id)"></span> </td>
					  </tr>
					</tbody>
					</table>
				</div>

				<p class="text-center" ng-show="loading">
					<span class="fa fa-spinner fa-spin fa-3x"></span>
				</p>

			</div>
		</div>
        </div>


		<!-- FORM TO CREATE FOOD ITEMS -->
		<div id="food-form" class="row">
			<div class="col-sm-8 col-sm-offset-2 text-center">
				<form>
					<div class="form-group">

						<!-- BIND THIS VALUE TO formData.name and formData.price IN ANGULAR -->
						<div class="container col-md-12">
                            <div class="col-md-12 input-group input-group-lg">
                              <span class="input-group-addon" id="basic-addon3"><b>Food Item </b></span>
                              <input type="text" class="form-control" aria-describedby="basic-addon3" ng-model="formData.name">
                            </div>

                        </div>

						<br>
                        <div class="col-md-12">
                           <div class="col-md-5 input-group input-group-lg">
                                <span class="input-group-addon"><b>Quantity</b></span>
                                <select class="form-control selectpicker" ng-model="formData.qty">
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                </select>
                            </div>
                        
						  <div class="col-md-7 input-group input-group-lg"><span class="input-group-addon" id="basic-addon3"><b>Price of Item $ </b></span>
						  <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)" ng-model="formData.price">
						  <span class="input-group-addon">.00</span>
                       
						  </div>
                        </div>
                        <br>
<!--
                        <div class="input-group input-group-lg"><span class="input-group-addon" id="basic-addon3"><b>Quantity</b></span>
						  <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)" ng-model="formData.qty">
						</div>
-->


					</div>

					<div class="container">
						<span><br></br><br></br></span>
					</div>

					<!-- createFoodItem() WILL CREATE NEW FOOD ITEMS -->
					<div class="container-fluid">
					<div class="row">
						<div class="col-md-6">

								<button type="button" class="btn btn-primary " ng-click="createFoodItem()">
						<h1>	<b>Add a Food</b> </h1>
						</button>
						</div>
						<div class="col-md-6">
							<!-- DIALOG for showing total bill  -->
							<div class="container-fluid">
								<div class="row">
									<div class="col-md-12">
										 <button type="button" class="btn btn-danger" id="modal-388234" href="#modal-container-388234" data-toggle="modal" ng-click="getTotal()">
												 <h1><b>Get Total bill</b></h1>
										 </button>
										<div class="modal fade" id="modal-container-388234" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
											<div class="modal-dialog">
												<div class="modal-content">
													<div class="modal-header">

														<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
															×
														</button>
														<h4 class="modal-title" id="myModalLabel">
															<h1><b>Total Bill</b></h1>
														</h4>
													</div>
													<div class="modal-body">
														<div ng-hide="showTotal" class="container">
															<div>
                                                                
                                                                <table class="table table-boredred">
                                                                    <thead>
                                                                     <tr>
                                                                        <th>Sr.no</th><th>Food Item</th><th>Quantity</th><th>Rate</th><th>Amount</th>                                                                    
                                                                    `</tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr ng-repeat="food in foods">
                                                                            <td>{{$index+1}}</td>
                                                                            <td>{{food.name}}</td>
                                                                            <td>{{food.qty}}</td>
                                                                            <td>{{food.price}}</td>
                                                                            <td>{{(food.price)*(food.qty)}}</td>                                    
                                                                        </tr>
                                                                        <tr>
                                                                        <td></td><td></td><td><b>Total </b></td><td>{{total}}</td>
                                                                        </tr>
                                                                        <tr><td></td><td></td><td><b>Tax </b></td><td>{{tax}}</td></tr>
                                                                        <tr><td></td><td></td><td><b>Net Total </b> </td><td>{{net_total}}</td></tr>                                                                        
                                                                    </tbody>                                                        
                                                                </table>
                                                                <div class="btn btn-lg btn-danger">
                                                                <h1>	<label> ${{net_total}} </label> </h1> (incl. of Taxes)
                                                                </div>
																
															</div>
														</div>
													</div>
													<div class="modal-footer">

														<button type="button" class="btn btn-default" data-dismiss="modal">
															Close
														</button>
													</div>
												</div>

											</div>

										</div>

									</div>
								</div>
							</div>

						</div>
					</div>
				</div>


				</form>
			</div>
		</div>
    </div>
    
    </div>

	</div>


	<div><span><br><br></span> </div>
	<div><span><br><br></span> </div>
	<div><span><br><br></span> </div>
<div class="legal-copy s-col-xs-12 s-col-sm-6 text-center"><h2><label class="label"> © 2016 <a href="https://github.com/hariv3114" class="btn btn-default">hariv3114</a> • All rights reserved.</label></h2></div>
</body>
</html>
